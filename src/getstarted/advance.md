---
title: 进阶操作
icon: rocket
order: 2
---


# 进阶操作
帮助你了解SRA的更多高级功能，帮助你更好地使用SRA。

## 多账号托管

:::warning
多账号托管在 `0.8.0` 版本增加，标签页名称为 `多账号`。

在更新版本中，标签页名称变为 `配置文件`。
:::

在 `0.8.0` 及以上版本，SRA添加了 `账号配置` 相关功能。

可以点击上方 `多账号` (0.8.0)或 `配置文件` 进入。

![多账号配置](/img/use/ma.png)

`0.8.0` 版本中的"配置文件"

:::tip
每个'配置方案'对应着一个账号的托管方案。

假设将要为A、B、C三个账号托管，对于账号A：

使用默认方案Default，到控制台中勾选需要执行的功能，在使用多账号时，这些功能是必须要勾选的：

- 自动登录（同时填充账号与密码）
- 在本地保存密码
- 退出当前账号

这些选项是不能勾选的：
- 模拟宇宙
- 退出游戏
- 退出SRA
- 关机或休眠

完成任务配置后，不是点击开始，而是回到'多账号'页，点击'保存当前配置到此方案'，此时账号A的托管方案就配置完成并保存了。

对于账号B：

选择'新建方案'，输入一个方案名称，例如'planB'；点击'当前方案'右侧选框，可以看到我们新建的planB，选中它，接下来像配置刚才的方案那样配置planB即可。记得保存方案。

如果你的账号B与A的托管计划完全相同，可直接点击'将当前配置另存为新方案'，即可复制一份方案，不过记得修改这份方案的账号与密码。

对于账号C：同上。

现在我们有了三份方案，分别为Default、planB、planC，在'多账号'页面勾选'当前方案结束时切换下一个方案'，准备开始多账号托管。

为了使多账号托管按预期运行，建议先运行游戏并退出当前登录的账号，进入下面的界面：

![登录界面](/img/use/login.png)

现在，你可以回到SRA，点击 `开始` 即可开始您的多账号托管之旅。
:::

## 扩展功能/插件

:::warning
插件是 `0.8.2` 版本添加的，不适用之前的版本！
:::

点击上方扩展/插件进入标签页。

此时左上方部分为扩展功能，右上方功能是插件。

扩展功能在开启后会立即执行直到取消勾选。

自动对话：开启后在进入剧情时会自动播放对话、自动选择对话选项。此功能不会控制鼠标，但是会让游戏处于前台。如果需要取消执行，尝试将游戏最小化后回到此页面取消勾选。

插件按钮可能是用来开启功能的，也可能是展示版本信息、打开插件设置的，取决于开发者。

## 设置

点击上方'设置'进入标签页。此处可更改SRA的设置。

1. 开机自启动：勾选此项时，SRA会在你的电脑启动时启动。
2. 自动更新：勾选此项时，SRA会在启动时检查有无版本更新（依赖于SRA更新器），也可以通过取消勾选再勾选来手动检查一次更新。关闭此服务后，公告栏中的内容也不会再更新。
3. 线程安全：勾选此项时，在点击按钮后SRA会等待当前任务结束后再停止，而不是立即停止。通常不建议勾选此项。
4. 清空日志：点击此项时，会清空日志文件SRAlog.log中的内容。**在0.8.1+版本已废弃**。
5. 识图置信度：此项的值代表在执行任务中图像识别的置信度，置信度越高表面对两幅图片的相似度要求越高，此数值为0.01~0.99间的任意值。建议保持为0.90。
6. MirrorChyanCDK：如果你购买了mirror酱的CDK，将它填写到此处，更新时将使用mirror酱提供的下载加速服务。**仅能在0.8.0+版本使用**。
7. 文件完整性检查：点击此按钮后将立即进行一次文件完整性检查（依赖于SRA更新器），SRA可能会被退出。
8. 热键设置：此处修改全局热键，你可以在任何地方按下快捷键来执行这些操作。**仅能在0.8.1+版本使用**。
9. 通知：

![通知设置](/img/use/notification.png)

1. 允许通知：这是通知的总开关
2. 系统通知：启用此项后，当SRA发送通知时，会发送一个系统通知。
3. 邮件通知：启用此项后，当SRA发送通知时，会发送一个邮件通知。需要先配置好SMTP服务并点击验证按钮。在 `邮件通知` 会详细介绍

10. 关闭窗口时直接退出：在0.8.1中，SRA增加了一个系统托盘，与此同时，当你点击关闭按钮时仅会关闭窗口，而不会结束SRA的进程。启用此项后点击关闭按钮时会同时停止SRA的进程。

## 更新

SRA所有的下载及更新服务都集成于 **SRA更新器（SRAUpdater）**，如果你缺失了这个文件，前往下载页面来下载它。

双击运行更新器，更新器就会进行一次正常更新流程。在下载时，可以通过Ctrl+C取消下载。

更新器也支持使用命令行参数启动，下面是一些参数解释：

1. `-h` ：用于查看帮助信息
2. `-u URL` ：指定下载文件链接。SRA更新器不仅能用来更新SRA，还能借助它下载其他任何文件，只需将URL替换为需要下载的文件链接。
3. `-p PROXY` ：指定下载代理。如果你有自己的代理网站，可以使用此参数来设置它，只需将PROXY替换为你的代理网站。
4. `-np` ：禁用代理。np代指 `no proxy` 。如果你要下载的文件不需要经过代理，或者要使用加速器下载，可以通过使用此参数来关闭代理。
5. `-nv` ：禁用SSL证书验证。当使用加速器下载时，除了需要使用上面的-np参数，还有可能遇到SSL证书验证失败，此时使用此参数关闭SSL证书认证来完成下载。
6. `-f` ：强制更新。由于种种原因导致您的SRA处于旧版而启动器处于新版从而导致version文件不兼容，此时可使用此参数进行强制更新，即*无论是否是最新版本都强制更新为最新版本*
7. `-i` ：进行文件完整性检查。此参数会检测SRA的所有文件是否存在。如果不存在或版本不正确则重新下载。
8. `-vb` ：显示完整的日志信息。通常与其他参数混合使用，输出更完整的日志。
9. `-v` ：显示更新器当前版本信息。
10. `-timeout` ：设置请求超时的最长时间。

## 邮件通知

在 `0.8.1` 版本中引入了邮件通知功能。

在设置中，勾选 `邮件通知` ，并在下方配置 SMTP 服务并点击验证。

SMTP是一种可靠有效的电子邮件传输协议，SRA 使用SMTP-SSL推送电子邮件通知。

### SMTP 服务器地址

根据发信邮箱的电子邮件服务提供商选择正确的 SMTP 服务器地址。

| 电子邮件服务提供商 | SMTP服务器地址 |
| --- | --- |
| QQ邮箱 | smtp.qq.com |
| 163邮箱 | smtp.163.com |
| Gmail | smtp.gmail.com |
| Outlook/Hotmail | smtp-mail.outlook.com |
| Yahoo Mail | smtp.mail.yahoo.com |

上方列举了部分邮件提供商以及对应的SMTP服务器地址。如果你没在上表中找到您的邮件提供商，请自行查找、咨询。

### 授权码

**授权码**是用于替代您的邮箱密码进行第三方客户端登录的一种特殊密码，您需要填写发信邮箱的授权码。

下面列举了部分提供商授权码的获取步骤：

- [QQ邮箱](https://service.mail.qq.com/detail/0/75)
  - 登录您的邮箱，然后进入[QQ邮箱账号与安全中心](https://wx.mail.qq.com/account)
  - 在 `账号与安全` -> `安全设置` -> `SMTP/IMAP服务` 中开启服务并获取授权码

- [163邮箱](https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2a5feb28b66796d3b)
  - 登录您的邮箱，然后进入 `设置` -> `POP3/SMTP/IMAP` ，找到 `IMAP/SMTP服务` 并点击开启
  - 在弹窗中按照提示操作，然后弹窗生成授权密码，该密码即授权码。

- **Gmail**
  - 登录您的邮箱，然后进入[安全性](https://myaccount.google.com/security?) -> `您的Google账号登录选项` -> `两步验证` ，按照说明启动两步验证。
  - 打开[应用专用密码](https://myaccount.google.com/apppasswords)，按照提示操作即可获取专用密码，该密码即授权码。

:::tip
自 2025 年 1 月起，"启用 IMAP"和"停用 IMAP"选项将无法再使用。Gmail 中的 IMAP 访问功能始终处于启用状态，您当前与其他电子邮件客户端的连接不会受到影响。您无需采取任何行动。
:::

- **Outlook/Hotmail**
  - 登录 `Mircosoft账号` ，然后进入[其他安全选项](https://go.microsoft.com/fwlink/?linkid=2274139) -> `双重验证` ，按照说明打开双重验证。
  - 打开双重验证后，向下滑找到 `应用密码` ，点击 `创建新应用密码`

- [Yahoo Mail](https://help.yahoo.com/kb/generate-third-party-passwords-sln15241.html)
  - 登录到[Yahoo账号安全](https://login.yahoo.com/account/security?.lang=en-US&.intl=us&.src=yhelp)
  - 点击 `Generate app password` 或 `Generate and manage app passwords` -> `Get Started` -> 在文本字段中输入您的应用名称
  - 点击 `Generate password` ，此密码即授权码。

:::warning
为了您的信息安全，请勿将授权码告诉他人，并定期更换。

部分邮箱的授权码仅显示一次，请及时保存；部分邮箱的授权码存在有效期，请在到期前及时更换。

SRA 已对本地授权码数据使用 `Windows DPAPI` 加密，这种加密方式将当前用户的登录凭据作为加密密钥的一部分，这意味着只有同一个用户在同一台计算机上才能解密数据。如果您需要跨设备迁移配置文件，请重新输入授权码。

**SMTP**邮件推送服务允许发信邮箱与收信邮箱相同，若没有多余的电子邮箱，可以填写相同的发信邮箱与收信邮箱地址。
:::

## 调试模式

调试模式可以通过在命令行运行SRA来启动。

具体步骤如下：

1. 打开SRA所在文件夹
2. 在文件夹右键 -> 在终端中打开（仅限Windows 11或安装了Windows Terminal应用程序的Windows 10）或点击 `文件资源管理器` 上方的地址栏，在可编辑状态下写 `cmd` 或 `powershell` 打开命令行。
3. 输入SRA.exe（cmd）或.\SRA.exe（powershell），此时SRA将以调试模式启动，你可以在命令行程序看到包括 `DEBUG` 级别和 `TRACE` 级别的所有信息。
4. 如果此时关闭命令行窗口，SRA也将一同被关闭。

## 命令行模式

在 `0.8.2+` 版本中SRA提供了命令行模式。

如果你有使用命令行的需求，可以使用该模式。

使用步骤：

1. 仿照调试模式->具体步骤打开命令行，然后输入：

::: tabs

@tab cmd

```bash
powershell -command "Start-Process cmd -Verb runAs -ArgumentList '/K', 'cd /d \"%CD%\"'"
```

@tab powershell

```bash
Start-Process powershell -Verb runAs -ArgumentList "-NoExit", "-Command", "cd '$((Get-Location).Path)'"
```
:::

:::warning

在某些情况下，这两个命令也用不了。此时只能使用 `cd` 命令像双击打开文件那样打开文件目录。
    
不过，你可以复制地址栏，然后粘贴在 `cd` 的后面。

:::

2. 在新窗口中输入 ``SRA.exe --cli`` （cmd）或 ``.\SRA.exe --cli`` （powershell）。此时，你已经成功启用命令行了！

:::warning

在使用之前，我们建议先输入exit退出一遍SRA命令行再重新进入。

这是打包后的显示错误，截止到目前（文档编辑最后时间）尚未解决。

:::
SRA的命令行应该是这样的：

```bash
SRA v0.8.2 for Windows
欢迎使用 SRA 命令行模式！输入 help 或 ? 查看帮助信息。
SRA>
```
一切准备就绪，可以输入help或者?来获取帮助。

```bash
SRA>?
可用命令：
  config - 显示指定配置
  echo - 回显输入的内容
  exit - 退出命令行程序
  globals - 显示全局配置
  help - 显示帮助信息
  run - 运行指定配置的任务
  version - 显示当前SRA版本
```
目前 SRA 命令行仅可查看配置文件而不可修改。如果要进行配置操作，还请使用GUI。

输入 run 可以以指定的配置运行，如果不指定配置，将使用 Default (config 命令同理)

例如: `run Default other...`

:::warning
该命令会线程阻塞，你无法在任务结束前执行其它命令。如果你想要停止任务，请在命令行使用 `Ctrl` + `C` 来终止。
:::

:::tip
另一种方式：

如果你使用SRA命令行只是为了执行任务，或者你只想直接执行任务不使用SRA命令行，在窗口中输入`SRA --run [config] [...]`即可直接开始执行任务。

例如: `SRA --run Default other...`
:::

可以输入exit来退出程序。

```bash
SRA> run default
    2025-06-07 18:38:42 | WARNING | SRACommandLine.do_run:87 | 即将开始执行任务, 当前配置: ['default'] , 终端将被任务占用！
    2025-06-07 18:38:43 | INFO    | SRAssistant.assist_start:72 | 当前配置 default
    2025-06-07 18:38:43 | INFO    | SRAssistant.launch_game:183 | 等待游戏启动
    已中断运行。
SRA> exit
    正在退出 SRA 命令行模式...
```